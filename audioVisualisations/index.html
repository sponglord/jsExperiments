<!doctype html>
<meta charset="utf-8">
<html>
<head>
   <title>local_audio_visualizer</title>
    <script type="text/javascript" src="js/utils/Utils.js"></script>
    <link rel="stylesheet" href="./css/style.css" />
    <script type="text/javascript" >
        (function(){

            vizChange = function(e){
//                console.log('sel=',e.target);

                var head = document.getElementsByTagName('head')[0];
                var script= document.createElement('script');
                script.type= 'text/javascript';
                script.src= e.target.value;

                script.addEventListener('load', function(event) {

                    var options = document.getElementsByTagName('option');
                    var optionText = options[e.target.selectedIndex].innerHTML;

                    var instr = document.getElementById('instructions');
                    instr.innerHTML = 'Drag an audio file to play it locally<br /> and visualise it with: <b><i>'  + optionText + '</i></b>';

                    var container = document.getElementById('canvas-container');
                    container.classList.add('phaseTwo');

                    document.getElementById('canvas').style.display = 'block';

                });

                head.appendChild(script);
            };

       })();
   </script>
</head>
<body>
  <div id="container">
    <div id="canvas-container">
      <!--<canvas width=1024 height=500 id="canvas"></canvas>-->
      <canvas width=3000 height=3000 id="canvas"></canvas>
    </div>
    <div id="instructions">
      <div class="styled-select">
          <select id="selector" onchange="vizChange(event);">
              <option >Select a visualisation effect</option>
              <option value="js/localAudioVisualiser_songDna_1.js">SongDna_1(pure)</option>
              <option value="js/localAudioVisualiser_songDna_2_blocks.js">SongDna_2(blocks)</option>
              <option value="js/localAudioVisualiser_songDna_3_circles.js">SongDna_3(circles)</option>
              <option value="js/localAudioVisualiser_songDna_4_arcs.js">SongDna_4(arcs)</option>
              <option value="js/localAudioVisualiser_songDna_5.js">SongDna_5(spiral)</option>
              <option value="js/localAudioVisualiser_songDna_5_batch.js">SongDna_5(spiral_batch)</option>
              <option value="js/localAudioVisualiser_songDna_6.js">SongDna_6(play)</option>
              <option value="js/localAudioVisualiser_circles.js">Circles</option>
              <option value="js/localAudioVisualiser_fatArcs.js">FatArcs</option>
              <option value="js/localAudioVisualiser_superFatCircles_clean.js">SuperFatCircles</option>
              <option value="js/localAudioVisualiser_intersects.js">Intersects</option>
              <option value="js/localAudioVisualiser_intersectsCircles.js">Intersects+Circles</option>
              <option value="js/localAudioVisualiser_intersectsCircles2.js">Intersects+Circles2(big intersects)</option>
              <option value="js/localAudioVisualiser_intersectsCirclesLines.js">Intersects+Circles+Lines</option>
              <option value="js/localAudioVisualiser_intersectsCirclesLines2.js">Intersects+Circles+Lines2 (dumb-bells)</option>
              <option value="js/localAudioVisualiser_intersectsLines.js">Intersects+Lines</option>
              <option value="js/localAudioVisualiser_intersectsLinesColor.js">Intersects+Lines_Colour</option>
              <option value="js/localAudioVisualiser_lines.js">Lines</option>
              <option value="js/localAudioVisualiser_linesFat.js">LinesFat</option>
              <option value="js/localAudioVisualiser_rings.js">Rings</option>
          </select>
        </div>
    </div>
  </div>
</body>
<script type="text/javascript" >
    (function(){

        document.getElementById('canvas').style.display = 'none';
    })();
</script>
</html>
